<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MindForge Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container" id="container">
    <!-- 🔹 Sign Up Form -->
    <div class="form-container sign-up">
      <form id="signUpForm">
        <h1>Create Account</h1>
        <input type="email" id="signUpEmail" placeholder="Email" required />
        <input type="password" id="signUpPassword" placeholder="Password" required />
        <button type="submit">Sign Up</button>
      </form>
    </div>

    <!-- 🔹 Sign In Form -->
    <div class="form-container sign-in">
      <form id="signInForm">
        <h1>Sign In</h1>
        <input type="email" id="signInEmail" placeholder="Email" required />
        <input type="password" id="signInPassword" placeholder="Password" required />
        <button type="submit">Sign In</button>
      </form>
    </div>

    <!-- 🔹 Toggle Panel -->
    <div class="toggle-container">
      <div class="toggle">
        <div class="toggle-panel toggle-left">
          <h1>Welcome Back!</h1>
          <p>To keep connected, please log in with your info</p>
          <button class="hidden" id="login">Sign In</button>
        </div>
        <div class="toggle-panel toggle-right">
          <h1>Hello, Friend!</h1>
          <p>Enter your personal details and start your journey with us</p>
          <button class="hidden" id="register">Sign Up</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 🔹 Firebase Auth -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } 
      from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

    // 🔹 Firebase Config
    const firebaseConfig = {
      apiKey: "AIzaSyAsjLqYz-TsVkrC1-WETNMzPOySIQpns0w",
      authDomain: "mindforgenew.firebaseapp.com",
      projectId: "mindforgenew",
      storageBucket: "mindforgenew.firebasestorage.app",
      messagingSenderId: "520069672215",
      appId: "1:520069672215:web:d80de1e990052ecee7db52"
    };

    // 🔹 Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // 🔹 Sign Up
    document.getElementById("signUpForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("signUpEmail").value;
      const password = document.getElementById("signUpPassword").value;

      createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          alert("✅ Account created successfully!");
          localStorage.setItem("userEmail", email); // save for dashboard
          window.location.href = "dashboard.html";
        })
        .catch((error) => {
          alert("❌ " + error.message);
        });
    });

    // 🔹 Sign In
    document.getElementById("signInForm").addEventListener("submit", (e) => {
      e.preventDefault();
      const email = document.getElementById("signInEmail").value;
      const password = document.getElementById("signInPassword").value;

      signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          alert("✅ Logged in successfully!");
          localStorage.setItem("userEmail", email); // save for dashboard
          window.location.href = "dashboard.html";
        })
        .catch((error) => {
          alert("❌ " + error.message);
        });
    });

    // 🔹 Toggle Panels
    const container = document.getElementById("container");
    document.getElementById("register").addEventListener("click", () => {
      container.classList.add("active");
    });
    document.getElementById("login").addEventListener("click", () => {
      container.classList.remove("active");
    });
  </script>
</body>
</html>
